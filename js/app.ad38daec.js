(function(t){function e(e){for(var o,a,r=e[0],c=e[1],l=e[2],u=0,d=[];u<r.length;u++)a=r[u],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,a=1;a<n.length;a++){var r=n[a];0!==i[r]&&(o=!1)}o&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var o={},a={app:0},i={app:0},s=[];function r(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"c6581b29"}[t]+".js"}function c(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={about:1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var o="css/"+({about:"about"}[t]||t)+"."+{about:"23e65947"}[t]+".css",i=c.p+o,s=document.getElementsByTagName("link"),r=0;r<s.length;r++){var l=s[r],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===o||u===i))return e()}var d=document.getElementsByTagName("style");for(r=0;r<d.length;r++){l=d[r],u=l.getAttribute("data-href");if(u===o||u===i)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var o=e&&e.target&&e.target.src||i,s=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=o,delete a[t],f.parentNode.removeChild(f),n(s)},f.href=i;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[t]=0})));var o=i[t];if(0!==o)if(o)e.push(o[2]);else{var s=new Promise((function(e,n){o=i[t]=[e,n]}));e.push(o[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=r(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(f);var n=i[t];if(0!==n){if(n){var o=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",d.name="ChunkLoadError",d.type=o,d.request=a,n[1](d)}i[t]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=o,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(n,o,function(e){return t[e]}.bind(null,o));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/spa-notes/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"148c":function(t,e,n){"use strict";var o=n("c925"),a=n.n(o);a.a},"2c3e":function(t,e,n){"use strict";var o=n("47e4"),a=n.n(o);a.a},"3f6b":function(t,e,n){},4148:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"note"},[n("div",{staticClass:"note__name"},[t.canEditNote||t.canAddNote?n("general-input",{attrs:{error:t.error,size:"small",placeholder:"Название заметки"},model:{value:t.suitableNote.name,callback:function(e){t.$set(t.suitableNote,"name",e)},expression:"suitableNote.name"}}):n("span",[t._v(t._s(t.suitableNote.name))]),n("div",{staticClass:"note__actions"},[t.canAddNote||t.canEditNote?t._e():n("div",{staticClass:"note__actions__edit",attrs:{title:"Изменить заметку"},on:{click:function(e){return t.$router.push(t.suitableNote.id)}}},[n("i",{staticClass:"fas fa-highlighter"})]),t.canAddNote?t._e():n("div",{staticClass:"note__actions__delete",attrs:{title:"Удалить заметку"},on:{click:function(e){return t.deleteNote(t.suitableNote.id)}}},[n("i",{staticClass:"fas fa-trash"})])])],1),t.canEditNote||t.canAddNote?n("div",{staticClass:"note__add_todo"},[n("form",{on:{submit:function(e){return e.preventDefault(),t.addTodo(e)}}},[n("general-input",{attrs:{required:"",size:"small",placeholder:"Добавить дело"},model:{value:t.nameTodo,callback:function(e){t.nameTodo=e},expression:"nameTodo"}}),n("general-button",{attrs:{size:"small",value:"Добавить"}})],1)]):t._e(),n("div",{staticClass:"note__todos"},[t._l(t.canAddNote||t.canEditNote||!t.todosShown?t.todos:t.shortTodos,(function(e){return n("todo",{key:e.id,attrs:{canEditNote:t.canEditNote,canAddNote:t.canAddNote,todos:t.todos,todo:e,toogleTodo:t.toogleTodo,deleteTodo:t.deleteTodo}})})),t.todos.length?t._e():n("div",{staticClass:"note__todos__empty"},[n("span",[t._v(t._s(t.messageEmptyTodos))])])],2),t.canShortTodos?n("div",{staticClass:"note__todos-show-all",on:{click:function(e){t.todosShown=!t.todosShown}}},[t.todosShown?n("span",[t._v(" Показать список")]):n("span",[t._v(" Скрыть")])]):t._e(),n("div",{staticClass:"note__panel"},[n("div",{staticClass:"note__panel__count"},[n("span",[t._v("Осталось дел: "+t._s(t.countActiveTodos))])]),n("div",{staticClass:"note__panel__filter"},[n("span",{class:{active:"all"===t.suitableNote.filter},on:{click:function(e){t.suitableNote.filter="all"}}},[t._v("Все")]),n("span",{class:{active:"active"===t.suitableNote.filter},on:{click:function(e){t.suitableNote.filter="active"}}},[t._v("Активные")]),n("span",{class:{active:"completed"===t.suitableNote.filter},on:{click:function(e){t.suitableNote.filter="completed"}}},[t._v("Завершённые")])])]),t.canAddNote||t.canEditNote?n("div",{staticClass:"note__actions"},[t.canAddNote?n("general-button",{attrs:{size:"small",value:"Отмена"},on:{click:t.UPD_STATUS_MODAL}}):t._e(),t.canEditNote?n("general-button",{attrs:{size:"small",value:"Отменить редактирование"},on:{click:t.cancelEditNote}}):t._e(),n("general-button",{attrs:{size:"small",value:"Сохранить"},on:{click:t.saveNote}})],1):t._e()])},a=[],i=(n("99af"),n("4de4"),n("7db0"),n("d81d"),n("fb6a"),n("b0c0"),n("2909")),s=n("5530"),r=n("2f62"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return"checkbox"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],class:[{"input-small":"small"===t.size,"input-large":"large"===t.size,"input-error":t.error},"input"],attrs:{required:"",placeholder:t.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(t.inputVal)?t._i(t.inputVal,null)>-1:t.inputVal},on:{change:function(e){var n=t.inputVal,o=e.target,a=!!o.checked;if(Array.isArray(n)){var i=null,s=t._i(n,i);o.checked?s<0&&(t.inputVal=n.concat([i])):s>-1&&(t.inputVal=n.slice(0,s).concat(n.slice(s+1)))}else t.inputVal=a}}}):"radio"===t.type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],class:[{"input-small":"small"===t.size,"input-large":"large"===t.size,"input-error":t.error},"input"],attrs:{required:"",placeholder:t.placeholder,type:"radio"},domProps:{checked:t._q(t.inputVal,null)},on:{change:function(e){t.inputVal=null}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.inputVal,expression:"inputVal"}],class:[{"input-small":"small"===t.size,"input-large":"large"===t.size,"input-error":t.error},"input"],attrs:{required:"",placeholder:t.placeholder,type:t.type},domProps:{value:t.inputVal},on:{input:function(e){e.target.composing||(t.inputVal=e.target.value)}}})},l=[],u={name:"Input",props:{placeholder:{type:String,required:!1},type:{type:String,required:!1,default:"text"},value:{type:String,required:!1,default:""},size:{type:String,required:!1,default:"large"},error:{type:Boolean,required:!1,default:!1}},computed:{inputVal:{get:function(){return this.value},set:function(t){this.$emit("input",t)}}}},d=u,f=(n("fc39"),n("2877")),p=Object(f["a"])(d,c,l,!1,null,null,null),_=p.exports,h=n("fc25"),m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"todo",class:{todo_active:t.todo.checked}},[n("div",{class:[{"todo__toogle_can-edit":t.canEditNote||t.canAddNote},"todo__toogle"],on:{click:function(e){(t.canEditNote||t.canAddNote)&&t.toogleTodo(t.todo.id)}}},[t.todo.checked?n("i",{staticClass:"fas fa-check"}):t._e()]),n("div",{staticClass:"todo__name"},[t.canEditNote||t.canAddNote?n("general-input",{attrs:{size:"small"},model:{value:t.todo.name,callback:function(e){t.$set(t.todo,"name",e)},expression:"todo.name"}}):n("span",[t._v(t._s(t.todo.name))])],1),t.canEditNote||t.canAddNote?n("div",{staticClass:"todo__actions"},[n("div",{staticClass:"todo__delete",attrs:{title:"Удалить дело"},on:{click:function(e){return t.deleteTodo(t.todo.id)}}},[n("i",{staticClass:"fas fa-trash"})])]):t._e()])},v=[],N={name:"Todo",components:{"general-input":_},props:{todo:{type:Object,required:!0},todos:{type:Array,required:!0},canEditNote:{type:Boolean,required:!1,default:!1},canAddNote:{type:Boolean,required:!1,default:!1},toogleTodo:{type:Function,required:!0},deleteTodo:{type:Function,required:!0}}},b=N,E=(n("b0db"),Object(f["a"])(b,m,v,!1,null,"211a1fee",null)),O=E.exports,T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"confirm_action"},[n("div",{staticClass:"confirm_action__text"},[n("h1",[t._v(t._s(t.title))])]),n("div",{staticClass:"confirm_action__buttons"},[n("general-button",{staticClass:"confirm_action__button confirm_action__cancel",attrs:{value:"Нет"},on:{click:t.UPD_STATUS_MODAL}}),n("general-button",{staticClass:"confirm_action__button confirm_action__yes",attrs:{value:"Да"},on:{click:t.onConfirm}})],1)])},g=[],S={name:"ConfirmAction",components:{"general-button":h["a"]},computed:Object(s["a"])({},Object(r["c"])({title:function(t){return t.confirmAction.title},typeAction:function(t){return t.confirmAction.typeAction},idNoteSelected:function(t){return t.notes.idNoteSelected}})),methods:Object(s["a"])(Object(s["a"])({},Object(r["b"])(["UPD_STATUS_MODAL","DELETE_NOTE"])),{},{deleteNote:function(){this.DELETE_NOTE(this.idNoteSelected),"Edit"===this.$route.name&&this.$router.push("/"),this.UPD_STATUS_MODAL()},cancelEditNote:function(){this.$router.push("/"),this.UPD_STATUS_MODAL()},onConfirm:function(){switch(this.typeAction){case"deleteNote":return this.deleteNote();case"cancelEditNote":return this.cancelEditNote();default:return}}})},A=S,y=(n("4fc9"),Object(f["a"])(A,T,g,!1,null,null,null)),C=y.exports,P=n("53ca"),j=function t(e){var n,o=Array.isArray(e)?[]:{};for(var a in e)n=e[a],o[a]="object"===Object(P["a"])(n)&&null!==n?t(n):n;return o},D=n("8dee"),k=n.n(D),U={name:"Note",components:{"general-input":_,"general-button":h["a"],todo:O},props:{note:{required:!1,type:Object,default:function(){return{}}}},computed:Object(s["a"])(Object(s["a"])({},Object(r["c"])({notes:function(t){return t.notes.notes},preNote:function(t){return t.note.preNote}})),{},{idEdit:function(){var t=this.$route.params.id;return t||null},canEditNote:function(){return!!this.idEdit},canAddNote:function(){return!this.note.id&&!this.canEditNote},suitableNote:function(){return this.canEditNote||this.canAddNote?this.preNote:this.note},todos:function(){switch(this.suitableNote.filter){case"active":var t=this.suitableNote.todos.filter((function(t){return!t.checked}));return t;case"completed":var e=this.suitableNote.todos.filter((function(t){return t.checked}));return e;default:return this.suitableNote.todos}},shortTodos:function(){return this.todos.slice(0,this.countShortTodos)},canShortTodos:function(){return!this.canEditNote&&!this.canAddNote&&this.shortTodos.length<this.todos.length||void 0},messageEmptyTodos:function(){switch(this.suitableNote.filter){case"active":if(!this.todos.length)return"Активных задач нет";case"completed":if(!this.todos.length)return"Завершённых задач нет";default:return"Создайте задачу"}},countActiveTodos:function(){return this.suitableNote.todos.filter((function(t){return!t.checked})).length}}),data:function(){return{nameTodo:"",error:!1,countShortTodos:5,todosShown:!0}},created:function(){(this.canEditNote||this.canAddNote)&&this.setPreNote()},methods:Object(s["a"])(Object(s["a"])({},Object(r["b"])(["SAVE_NOTE","UPD_STATUS_MODAL","DELETE_NOTE","SET_COMPONENT","SET_CONFIRM_ACTIONS_PROPS","ID__NOTE_SELECTED","SET_PRE_NOTE","UPD_PRE_NOTE"])),{},{deleteNote:function(t){this.UPD_STATUS_MODAL(),this.ID__NOTE_SELECTED(t),this.SET_COMPONENT(C),this.SET_CONFIRM_ACTIONS_PROPS({title:"Вы действительно хотите удалить заметку?",typeAction:"deleteNote"})},validation:function(){return""!==this.suitableNote.name||void 0},saveNote:function(){this.validation()?(this.SAVE_NOTE({note:this.suitableNote,idEdit:this.idEdit}),this.canEditNote?this.$router.push("/"):this.UPD_STATUS_MODAL()):this.error=!0},cancelEditNote:function(){this.UPD_STATUS_MODAL(),this.SET_COMPONENT(C),this.SET_CONFIRM_ACTIONS_PROPS({title:"Отменить редактирование?",typeAction:"cancelEditNote"})},addTodo:function(){var t={id:k()(),idNote:this.suitableNote.id,name:this.nameTodo,checked:!1};this.UPD_PRE_NOTE({todos:[].concat(Object(i["a"])(this.suitableNote.todos),[t])}),this.nameTodo=""},toogleTodo:function(t){var e=this.suitableNote.todos.map((function(e){return e.id===t?Object(s["a"])(Object(s["a"])({},e),{},{checked:!e.checked}):e}));this.UPD_PRE_NOTE({todos:e})},deleteTodo:function(t){var e=this.suitableNote.todos.filter((function(e){if(e.id!==t)return e}));this.UPD_PRE_NOTE({todos:e})},setPreNote:function(){var t,e=this;t=this.canEditNote?j(this.notes).find((function(t){return t.id===e.idEdit})):{id:k()(),name:"",filter:"all",todos:[]},this.SET_PRE_NOTE(t)}})},w=U,M=(n("dc38"),Object(f["a"])(w,o,a,!1,null,null,null));e["a"]=M.exports},"47e4":function(t,e,n){},"4fc9":function(t,e,n){"use strict";var o=n("c886"),a=n.n(o);a.a},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view"),n("modal")],1)},i=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"fade"}},[t.status?n("div",{staticClass:"overlay"},[n("div",{staticClass:"overlay__close",on:{click:t.UPD_STATUS_MODAL}},[n("i",{staticClass:"fas fa-times"})]),n(t.component,{tag:"component"})],1):t._e()])},r=[],c=n("5530"),l=n("2f62"),u={name:"Modal",computed:Object(c["a"])({},Object(l["c"])({status:function(t){return t.modal.status},component:function(t){return t.modal.component}})),methods:Object(c["a"])({},Object(l["b"])(["UPD_STATUS_MODAL"]))},d=u,f=(n("148c"),n("2877")),p=Object(f["a"])(d,s,r,!1,null,null,null),_=p.exports,h={name:"App",components:{modal:_}},m=h,v=(n("5c0b"),Object(f["a"])(m,a,i,!1,null,null,null)),N=v.exports,b=(n("d3b7"),n("8c4f")),E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home",style:{"justify-content":t.notes.length?"flex-start":"center"}},[n("title-app",{attrs:{value:"Notes"}}),n("add-note"),n("notes")],1)},O=[],T=n("5ce3"),g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"add-note"},[n("general-button",{attrs:{value:"Добавить"},on:{click:t.addNote}})],1)},S=[],A=n("fc25"),y=n("4148"),C={name:"AddNote",components:{"general-button":A["a"]},computed:{},methods:Object(c["a"])(Object(c["a"])({},Object(l["b"])(["UPD_STATUS_MODAL","SET_COMPONENT","SET_CONFIRM_ACTIONS_PROPS"])),{},{addNote:function(){this.UPD_STATUS_MODAL(),this.SET_COMPONENT(y["a"])}})},P=C,j=(n("2c3e"),Object(f["a"])(P,g,S,!1,null,"2a7fc763",null)),D=j.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notes"},t._l(t.notes,(function(t){return n("note",{key:t.id,attrs:{note:t}})})),1)},U=[],w={name:"Notes",components:{note:y["a"]},computed:Object(c["a"])({},Object(l["c"])({notes:function(t){return t.notes.notes}}))},M=w,x=Object(f["a"])(M,k,U,!1,null,null,null),L=x.exports,$={name:"Home",components:{"title-app":T["a"],"add-note":D,notes:L},computed:Object(c["a"])({},Object(l["c"])({notes:function(t){return t.notes.notes}}))},q=$,V=(n("6ae9"),Object(f["a"])(q,E,O,!1,null,"1e36f80a",null)),I=V.exports;o["a"].use(b["a"]);var R=[{path:"/",name:"Home",component:I},{path:"/:id",name:"Edit",component:function(){return n.e("about").then(n.bind(null,"1071"))}}],z=new b["a"]({mode:"hash",base:"/spa-notes/",routes:R}),F=z,B={state:{status:!1,component:null},mutations:{UPD_STATUS_MODAL:function(t){t.status&&(t.component=null),t.status=!t.status},SET_COMPONENT:function(t,e){t.component=e}},actions:{},getters:{}},J={state:{title:"",typeAction:""},mutations:{SET_CONFIRM_ACTIONS_PROPS:function(t,e){var n=Object.assign({},e);for(var o in n)t[o]=n[o]}},actions:{},getters:{}},H=(n("99af"),n("4de4"),n("d81d"),n("2909")),K=JSON.parse(localStorage.getItem("notes")),G={state:{notes:K||[],idNoteSelected:null},mutations:{ID__NOTE_SELECTED:function(t,e){t.idNoteSelected=e},SAVE_NOTE:function(t,e){var n=e.note,o=e.idEdit;t.notes=o?t.notes.map((function(t){return t.id===o?n:t})):[].concat(Object(H["a"])(t.notes),[n]),localStorage.setItem("notes",JSON.stringify(t.notes||[]))},DELETE_NOTE:function(t,e){t.notes=t.notes.filter((function(t){return t.id!==e})),localStorage.setItem("notes",JSON.stringify(t.notes||[]))}},actions:{}},Q={state:{preNote:{}},mutations:{SET_PRE_NOTE:function(t,e){t.preNote=e},UPD_PRE_NOTE:function(t,e){t.preNote=Object(c["a"])(Object(c["a"])({},t.preNote),e)}},actions:{},getters:{}};o["a"].use(l["a"]);var W=new l["a"].Store({modules:{modal:B,confirmAction:J,notes:G,note:Q}});o["a"].config.productionTip=!1,new o["a"]({router:F,store:W,render:function(t){return t(N)}}).$mount("#app")},"59a1":function(t,e,n){},"5c0b":function(t,e,n){"use strict";var o=n("9c0c"),a=n.n(o);a.a},"5ce3":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title"},[n("h1",[t._v(t._s(t.value))])])},a=[],i={name:"Title",props:["value"]},s=i,r=(n("ba19"),n("2877")),c=Object(r["a"])(s,o,a,!1,null,"298193fc",null);e["a"]=c.exports},"6ae9":function(t,e,n){"use strict";var o=n("973a"),a=n.n(o);a.a},"84b3":function(t,e,n){},"900a":function(t,e,n){"use strict";var o=n("59a1"),a=n.n(o);a.a},"973a":function(t,e,n){},"973f":function(t,e,n){},"9c0c":function(t,e,n){},b0db:function(t,e,n){"use strict";var o=n("3f6b"),a=n.n(o);a.a},ba19:function(t,e,n){"use strict";var o=n("cf9d"),a=n.n(o);a.a},c886:function(t,e,n){},c925:function(t,e,n){},cf9d:function(t,e,n){},dc38:function(t,e,n){"use strict";var o=n("84b3"),a=n.n(o);a.a},fc25:function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{class:[{"button-small":"small"===t.size,"button-large":"large"===t.size},"button"],on:{click:function(e){return t.$emit("click")}}},[t._v(" "+t._s(t.value)+" ")])},a=[],i={name:"Button",props:{value:{type:String,required:!0},size:{type:String,default:"large",required:!1}}},s=i,r=(n("900a"),n("2877")),c=Object(r["a"])(s,o,a,!1,null,"6b459ee7",null);e["a"]=c.exports},fc39:function(t,e,n){"use strict";var o=n("973f"),a=n.n(o);a.a}});
//# sourceMappingURL=app.ad38daec.js.map